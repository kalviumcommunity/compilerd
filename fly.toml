# fly.toml

# App Configuration
app = "compilerd"

# Build Configuration
[[builds]]
  # Use the builder name "app" defined below
  builder = "app"

# Build the Docker image
[b]uilders]
  [b]uilders."app" = { image = "docker.io/library/node:16.17.0-alpine3.16" }

# Run the application
# Define the command to start your application
# Replace "your-start-command" with the actual command to start your app
# For example, if your start command is "npm start", then replace it accordingly.
[processe]s
  [processe]s."compilerd" = { 
    script = [ "sh", "/usr/bin/start.sh" ],
    env = { OPENAI_API_KEY = "your-api-key" }  # Add your environment variables here
  }

# Expose ports
[services]
  [s]ervices.ports = ["3000"]
